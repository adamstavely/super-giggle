@use '@angular/material' as mat;
@import './styles/search-theme';

// Custom color palette - professional and modern (Dark Navy Blue)
$primary-palette: (
  50: #e8eaf0,
  100: #c5c9d9,
  200: #9ea5bf,
  300: #7781a5,
  400: #596691,
  500: #3b4b7d, // Primary - Dark Navy Blue
  600: #354475,
  700: #2d3c6a,
  800: #263460,
  900: #19264d,
  A100: #b8c4ff,
  A200: #8a9eff,
  A400: #5c78ff,
  A700: #4565ff,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: white,
    400: white,
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
    A100: rgba(black, 0.87),
    A200: white,
    A400: white,
    A700: white,
  )
);

$accent-palette: (
  50: #fef3e8,
  100: #fce0c5,
  200: #facc9e,
  300: #f8b877,
  400: #f7a95a,
  500: #f59a3d, // Accent
  600: #f49237,
  700: #f2882f,
  800: #f07e27,
  900: #ee6c1a,
  A100: #ffffff,
  A200: #fff5f0,
  A400: #ffd0bd,
  A700: #ffbea4,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: rgba(black, 0.87),
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
    A100: rgba(black, 0.87),
    A200: rgba(black, 0.87),
    A400: rgba(black, 0.87),
    A700: white,
  )
);

$warn-palette: (
  50: #ffebee,
  100: #ffcdd2,
  200: #ef9a9a,
  300: #e57373,
  400: #ef5350,
  500: #f44336,
  600: #e53935,
  700: #d32f2f,
  800: #c62828,
  900: #b71c1c,
  A100: #ff8a80,
  A200: #ff5252,
  A400: #ff1744,
  A700: #d50000,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: white,
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
    A100: rgba(black, 0.87),
    A200: white,
    A400: white,
    A700: white,
  )
);

// Create theme
$primary: mat.define-palette($primary-palette);
$accent: mat.define-palette($accent-palette);
$warn: mat.define-palette($warn-palette);

$theme: mat.define-light-theme((
  color: (
    primary: $primary,
    accent: $accent,
    warn: $warn,
  ),
  typography: mat.define-typography-config(
    $font-family: '"Inter", "Roboto", "Helvetica Neue", sans-serif',
    $headline-1: mat.define-typography-level(32px, 40px, 600),
    $headline-2: mat.define-typography-level(28px, 36px, 600),
    $headline-3: mat.define-typography-level(24px, 32px, 600),
    $headline-4: mat.define-typography-level(22px, 28px, 600),
    $headline-5: mat.define-typography-level(20px, 28px, 500),
    $headline-6: mat.define-typography-level(18px, 24px, 500),
    $subtitle-1: mat.define-typography-level(16px, 24px, 500),
    $subtitle-2: mat.define-typography-level(14px, 20px, 500),
    $body-1: mat.define-typography-level(15px, 24px, 400),
    $body-2: mat.define-typography-level(14px, 20px, 400),
    $caption: mat.define-typography-level(12px, 16px, 400),
    $button: mat.define-typography-level(14px, 20px, 500),
    $overline: mat.define-typography-level(12px, 16px, 500),
  ),
  density: 0,
));

// Light theme
@include mat.all-component-themes($theme);

// Dark theme
$dark-theme: mat.define-dark-theme((
  color: (
    primary: $primary,
    accent: $accent,
    warn: $warn,
  ),
  typography: mat.define-typography-config(
    $font-family: '"Inter", "Roboto", "Helvetica Neue", sans-serif',
    $headline-1: mat.define-typography-level(32px, 40px, 600),
    $headline-2: mat.define-typography-level(28px, 36px, 600),
    $headline-3: mat.define-typography-level(24px, 32px, 600),
    $headline-4: mat.define-typography-level(22px, 28px, 600),
    $headline-5: mat.define-typography-level(20px, 28px, 500),
    $headline-6: mat.define-typography-level(18px, 24px, 500),
    $subtitle-1: mat.define-typography-level(16px, 24px, 500),
    $subtitle-2: mat.define-typography-level(14px, 20px, 500),
    $body-1: mat.define-typography-level(15px, 24px, 400),
    $body-2: mat.define-typography-level(14px, 20px, 400),
    $caption: mat.define-typography-level(12px, 16px, 400),
    $button: mat.define-typography-level(14px, 20px, 500),
    $overline: mat.define-typography-level(12px, 16px, 500),
  ),
  density: 0,
));

.dark-theme {
  @include mat.all-component-colors($dark-theme);
}

// Global styles
html, body {
  height: 100%;
  margin: 0;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.3s ease, color 0.3s ease;
}

body {
  // Subtle blue gradient for light mode
  background: linear-gradient(135deg, #f0f4f8 0%, #e8f0f6 50%, #f5f9fc 100%);
  background-attachment: fixed;
  color: #1a1d29;
  min-height: 100vh;

  &.dark-theme {
    // Light blue gradient for dark mode
    background: linear-gradient(135deg, #1a2332 0%, #1e2a3a 50%, #1f2d3f 100%);
    background-attachment: fixed;
    color: #e5e7eb;
  }
}

* {
  box-sizing: border-box;
}

// Custom Material component overrides for professional look
.mat-mdc-form-field {
  .mat-mdc-text-field-wrapper {
    background-color: #ffffff;
    border-radius: 8px;
    transition: background-color 0.3s ease;

    .dark-theme & {
      background-color: #1a1d29;
    }
  }

  &.mat-form-field-appearance-outline {
    .mat-mdc-form-field-outline {
      color: #e1e5e9;
      transition: color 0.3s ease;

      .dark-theme & {
        color: #374151;
      }
    }

    &.mat-focused .mat-mdc-form-field-outline-thick {
      color: #3b4b7d;
    }
  }
}

.mat-mdc-button, .mat-mdc-raised-button, .mat-mdc-unelevated-button {
  border-radius: 6px;
  text-transform: none;
  font-weight: 500;
  letter-spacing: 0.01em;
}

.mat-mdc-card {
  border-radius: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.06);
  border: 1px solid rgba(0, 0, 0, 0.06);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  background-color: #ffffff;
}

.dark-theme .mat-mdc-card {
  background-color: #1a1d29;
  border-color: #374151;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2);
}

.mat-mdc-chip {
  border-radius: 6px;
  font-weight: 500;
}

.mat-mdc-select-panel {
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);

  .dark-theme & {
    background-color: #1a1d29;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
  }
}

// Accessibility Styles

// High Contrast Theme
.high-contrast-theme {
  --hc-bg: #000000;
  --hc-text: #ffffff;
  --hc-primary: #00ffff;
  --hc-accent: #ffff00;
  --hc-border: #ffffff;
  --hc-focus: #00ffff;
  
  background: var(--hc-bg) !important;
  color: var(--hc-text) !important;
  
  * {
    border-color: var(--hc-border) !important;
  }
  
  button, a, input, select, textarea {
    &:focus-visible {
      outline: 3px solid var(--hc-focus) !important;
      outline-offset: 2px !important;
    }
  }
  
  .mat-mdc-card {
    background-color: var(--hc-bg) !important;
    border: 2px solid var(--hc-border) !important;
    color: var(--hc-text) !important;
  }
  
  .mat-mdc-button {
    border: 2px solid var(--hc-border) !important;
    
    &.mat-primary {
      background-color: var(--hc-primary) !important;
      color: var(--hc-bg) !important;
    }
  }
}

// Font Size Controls
:root {
  --base-font-size: 16px;
}

body {
  font-size: var(--base-font-size);
  
  &.font-small {
    --base-font-size: 14px;
  }
  
  &.font-medium {
    --base-font-size: 16px;
  }
  
  &.font-large {
    --base-font-size: 18px;
  }
  
  &.font-xlarge {
    --base-font-size: 20px;
  }
}

// Reduced Motion
.reduced-motion {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

// Enhanced Focus Indicators
.focus-visible {
  *:focus-visible {
    outline: 3px solid #3b4b7d;
    outline-offset: 2px;
    border-radius: 2px;
  }
  
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    outline: 3px solid #3b4b7d;
    outline-offset: 2px;
  }
  
  .dark-theme *:focus-visible {
    outline-color: #8a9eff;
  }
  
  .high-contrast-theme *:focus-visible {
    outline-color: #00ffff;
    outline-width: 4px;
  }
}

// Screen Reader Only
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}
